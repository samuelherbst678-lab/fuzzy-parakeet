// Klick-Handler: wähle Kategorie nach X-Position (auch wenn Balken 0% hoch ist)
async function handleChartClick(evt){
  if (!forecastChart || animating) return;

  // Wähle per 'index' und intersect:false – so klappt's auch bei 0%-Balken
  let elems = forecastChart.getElementsAtEventForMode(
    evt,
    'index',
    { intersect: false },   // <— wichtig!
    true
  );

  // Fallback (sollte selten nötig sein)
  if (!elems || !elems.length) {
    elems = forecastChart.getElementsAtEventForMode(
      evt,
      'nearest',
      { intersect: false },
      true
    );
  }
  if (!elems || !elems.length) return;

  const idx = elems[0].index;
  const target = forecastList[idx].pct || 0;

  // schon voll? Dann nichts tun
  if ((forecastList[idx].shownPct || 0) >= target) return;

  animating = true;
  await animateBarTo(idx, target, 900);
  animating = false;
}
